<!DOCTYPE html><html lang="en-us"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/images/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><style type="text/css">
/*!
 *  Font Awesome v4.7.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */
@import url(&#x27;//use.fontawesome.com/releases/v4.7.0/css/font-awesome-css.min.css&#x27;);
@font-face {
  font-family: &#x27;FontAwesome&#x27;;
  src: url(&#x27;//use.fontawesome.com/releases/v4.7.0/fonts/fontawesome-webfont.eot&#x27;);
  src: url(&#x27;//use.fontawesome.com/releases/v4.7.0/fonts/fontawesome-webfont.eot?#iefix&#x27;) format(&#x27;embedded-opentype&#x27;),
       url(&#x27;//use.fontawesome.com/releases/v4.7.0/fonts/fontawesome-webfont.woff2&#x27;) format(&#x27;woff2&#x27;),
       url(&#x27;//use.fontawesome.com/releases/v4.7.0/fonts/fontawesome-webfont.woff&#x27;) format(&#x27;woff&#x27;),
       url(&#x27;//use.fontawesome.com/releases/v4.7.0/fonts/fontawesome-webfont.ttf&#x27;) format(&#x27;truetype&#x27;),
       url(&#x27;//use.fontawesome.com/releases/v4.7.0/fonts/fontawesome-webfont.svg#fontawesomeregular&#x27;) format(&#x27;svg&#x27;);
  font-weight: normal;
  font-style: normal;
}
</style><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://feeds2.feedburner.com/WebSnippet"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/9e17a1d4eea5c20f3b49.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9e17a1d4eea5c20f3b49.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-fb76148cfcfb42ca18eb.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-ea5363f7b1817a1ef87a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c5c688887f812b270966.js" defer=""></script><script src="/_next/static/chunks/724-57902664d052d97efd1f.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-679e3a3fa729328c81c2.js" defer=""></script><script src="/_next/static/N1nbPrBxxylIC17PDK7CV/_buildManifest.js" defer=""></script><script src="/_next/static/N1nbPrBxxylIC17PDK7CV/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="container-fluid"><div class="row"><div class="col-md-3"><header><div class="logo"><a href="/">Web <span class="text-danger">{</span><span class="snippet">Snippet</span><span class="text-danger">}</span></a></div><hr/><div class="social"><a href="https://www.facebook.com/websnippet.io" title="facebook" rel="nofollow"><i class="fa fa-facebook" aria-hidden="true"></i><span class="sr-only">facebook</span></a><a href="https://twitter.com/WebSnippetio" title="twitter" rel="nofollow"><i class="fa fa-twitter" aria-hidden="true"></i><span class="sr-only">twitter</span></a><a href="https://plus.google.com/109007174257357268166" title="google+" rel="nofollow"><i class="fa fa-google-plus" aria-hidden="true"></i><span class="sr-only">google+</span></a><a href="http://feeds2.feedburner.com/WebSnippet" title="rss"><i class="fa fa-rss" aria-hidden="true"></i><span class="sr-only">rss</span></a></div><hr/><ul class="nav nav-stacked"><li role="presentation"><a href="/" title="">Home</a></li><li role="presentation"><a href="/tools-and-resources" title="Tools and Resources">Tools &amp; Resources</a></li><li role="presentation"><a href="/about" title="About">About</a></li><li role="presentation"><a href="/contact" title="Support">Support</a></li><li role="presentation"><a href="/contact" title="Contacts">Contacts</a></li></ul></header></div><div class="col-md-6"><article class="post"><div class="page-header"><h1><a href="/post/introduction-fetch-api-the-new-ajax" title="Introduction fetch API - the new AJAX">Introduction fetch API - the new AJAX</a></h1></div><div class="meta text-muted"><time dateTime="2015-06-07T16:08:56.339Z"><i class="fa fa-clock-o"></i> <!-- -->June 7, 2015</time><span><i class="fa fa-bookmark"></i> <a href="/categories/Web-Development" title="Web-Development" rel="category"><strong>Web-Development</strong></a>, <a href="/categories/Development" title="Development" rel="category"><strong>Development</strong></a></span><span class="pull-right"><i class="fa fa-comments"></i> <a href="/post/introduction-fetch-api-the-new-ajax" title="Introduction fetch API - the new AJAX">0 comment</a></span></div><div class="content"><div class="entry-colors"><div class="red"></div><div class="blue"></div><div class="gray"></div></div><div class="text-center"><img src="https://2.bp.blogspot.com/-k0RYC7NXty4/WhDKfhg_TnI/AAAAAAAAD20/4PH54d0axJEQkfOHzsnKaFAnjvpOVFMrwCLcBGAs/s1600/1433693516339_zpsor3v2pza.png" alt="Introduction fetch API - the new AJAX" class="image-head img-responsive"/></div><div class="raw"><p>Fetch provides a generic definition of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">Response</a> objects. This will allow them to be used whether it’s for service workers, Cache API and other similar things that handle or modify requests and responses, or any kind of use case that might require you to generate your own responses programmatically. It also provides a definition for related concepts such as CORS and the HTTP origin header semantics, supplanting their separate definitions elsewhere. </p><p>fetch() allows you to make network requests similar to XMLHttpRequest (XHR). The main difference is that the Fetch API uses Promises, which enables a simpler and cleaner API, avoiding callback hell and having to remember the complex API of XMLHttpRequest.</p><h2>Basic Fetch Request</h2><p>A fetch function is now provided in the global window scope, with the first argument being the URL:</p><pre><code>// url (required), options (optional)
fetch(&#x27;/some/url&#x27;).then(function(response) {
	// todo
}).catch(function(err) {
	// Error :(
});</code></pre><h2>Handling JSON</h2><p>Let&#x27;s say your service gets JSON as response, the resulting callback data has a <code>json</code> method for converting the raw data to a JavaScript object:</p><pre><code>fetch(&#x27;/some/url/json&#x27;)
.then(function(response) { 
	// Convert to JSON
	return response.json();
}).then(function(j) {
	// a JavaScript object
	console.log(j); 
});</code></pre><h2>Handling Basic Text Responses</h2><p>Let&#x27;s say your service gets HTML template as response, so here&#x27;s how you can work with an HTML or text response:</p><pre><code>fetch(&#x27;/some/url&#x27;)
.then(function(response) { 
	// Convert to text
	return response.text();
}).then(function(txt) {
	// String
	console.log(txt); 
});</code></pre><p>You can get the response text via chaining the Promise&#x27;s <code>then</code> method along with the <code>text()</code> method(<code>response.text()</code> returns Promise object).</p><h2>Headers and Metadata</h2><p>Response headers and metadata are available on the response object via straight properties and a get method for headers are illustrated below:</p><pre><code>fetch(&#x27;/some/url&#x27;)
.then(function(response) {  
    console.log(response.headers.get(&#x27;Content-Type&#x27;));  
    console.log(response.headers.get(&#x27;Date&#x27;));

    console.log(response.status);  
    console.log(response.statusText);  
    console.log(response.type);  
    console.log(response.url);  
});</code></pre><p>You can also set headers in your initial request but you cannot set cookies:</p><pre><code>// url (required), options (optional)
fetch(&#x27;/some/url&#x27;, {
	headers: {
		&#x27;Accept&#x27;: &#x27;application/json&#x27;,
    	&#x27;Content-Type&#x27;: &#x27;application/json&#x27;
	}
});</code></pre><h2>POST Form Data</h2><p>Another common use case for AJAX is sending form data. To do this we can set the method and <code>body</code> parameters in the <code>fetch()</code> options.</p><pre><code>fetch(&#x27;/some/url&#x27;, {  
  method: &#x27;post&#x27;,  
  headers: {  
    &quot;Content-type&quot;: &quot;application/x-www-form-urlencoded&quot;  
  },  
  body: &#x27;a=1&amp;b=2&#x27;
})
.then(function(res){
  return res.json();
})
.then(function (data) {  
  console.log(&#x27;Request succeeded with JSON response&#x27;, data);  
})
.catch(function (error) {  
  console.log(&#x27;Request failed&#x27;, error);  
});</code></pre><h2>Sending Credentials with a Fetch Request</h2><p>Should you want to make a fetch request with credentials such as cookies, you should set the credentials of the request to “<code>include</code>”.</p><pre><code>fetch(&#x27;/some/url&#x27;, {  
  credentials: &#x27;include&#x27;  
})</code></pre><p>More about <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a></p></div><ul class="share"><li class="presentation">Share this:</li><li class="presentation"><a href="https://www.facebook.com/sharer/sharer.php?u=/post/introduction-fetch-api-the-new-ajax" target="_blank" rel="nofollow" title="Introduction fetch API - the new AJAX"><i class="fa fa-facebook"></i> <span class="hidden-xs">Facebook</span></a></li><li class="presentation"><a href="https://twitter.com/home?status=Introduction fetch API - the new AJAX+/post/introduction-fetch-api-the-new-ajax" target="_blank" rel="nofollow" title="Introduction fetch API - the new AJAX"><i class="fa fa-twitter"></i> <span class="hidden-xs">Twitter</span></a></li><li class="presentation"><a href="https://plus.google.com/share?url=/post/introduction-fetch-api-the-new-ajax" target="_blank" rel="nofollow" title="Introduction fetch API - the new AJAX"><i class="fa fa-google-plus"></i> <span class="hidden-xs">Google+</span></a></li><li class="presentation"><a href="http://www.stumbleupon.com/submit?url=/post/introduction-fetch-api-the-new-ajax&amp;amp;title=Introduction fetch API - the new AJAX" target="_blank" rel="nofollow" title="Introduction fetch API - the new AJAX"><i class="fa fa-stumbleupon"></i> <span class="hidden-xs">Stumble</span></a></li><li class="presentation"><a href="http://digg.com/submit?url=/post/introduction-fetch-api-the-new-ajax&amp;amp;title=Introduction fetch API - the new AJAX" target="_blank" rel="nofollow" title="Introduction fetch API - the new AJAX"><i class="fa fa-digg"></i> <span class="hidden-xs">Digg</span></a></li></ul></div></article></div><div class="col-md-3"><div class="widget panel panel-default"><div class="panel-heading"><h4>Follow Us<span class="social pull-right"><a href="https://www.facebook.com/websnippet.io" title="facebook" rel="nofollow" target="_blank" class="nodecoration"><i class="fa fa-facebook" aria-hidden="true"></i><span class="sr-only">facebook</span></a><a href="https://twitter.com/WebSnippetio" title="twitter" rel="nofollow" target="_blank" class="nodecoration"><i class="fa fa-twitter" aria-hidden="true"></i><span class="sr-only">twitter</span></a><a href="https://plus.google.com/109007174257357268166" title="google+" rel="nofollow" target="_blank" class="nodecoration"><i class="fa fa-google-plus" aria-hidden="true"></i><span class="sr-only">google+</span></a><a href="http://feeds2.feedburner.com/WebSnippet" title="rss" target="_blank" class="nodecoration"><i class="fa fa-rss" aria-hidden="true"></i><span class="sr-only">rss</span></a></span></h4></div><div class="panel-body"><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow"><input type="hidden" value="WebSnippet" name="uri"/><input type="hidden" name="loc" value="en_US"/><div class="form-group"><label class="sr-only" for="subemail">Enter your email address</label><div class="input-group"><input type="text" id="subemail" name="email" class="form-control" placeholder="Your email address..."/><span class="input-group-btn"><button class="btn btn-default" type="submit" aria-label="Subscribe"><i class="fa fa-fire" aria-hidden="true"></i></button></span></div></div></form></div></div><div class="widget panel panel-default"><div class="panel-heading"><h4>CATEGORIES</h4></div><div class="panel-body"><nav><h5><a href="/categories/algorithm" title="Algorithm">Algorithm<!-- --> (<!-- -->1<!-- -->)</a></h5><h5><a href="/categories/design" title="Design">Design<!-- --> (<!-- -->10<!-- -->)</a></h5><h5><a href="/categories/development" title="Development">Development<!-- --> (<!-- -->38<!-- -->)</a></h5><h5><a href="/categories/interview" title="Interview">Interview<!-- --> (<!-- -->4<!-- -->)</a></h5><h5><a href="/categories/mobile-development" title="Mobile-Development">Mobile-Development<!-- --> (<!-- -->1<!-- -->)</a></h5><h5><a href="/categories/resources" title="Resources">Resources<!-- --> (<!-- -->15<!-- -->)</a></h5><h5><a href="/categories/system design" title="System Design">System Design<!-- --> (<!-- -->2<!-- -->)</a></h5><h5><a href="/categories/system-design" title="System-Design">System-Design<!-- --> (<!-- -->2<!-- -->)</a></h5><h5><a href="/categories/tools" title="Tools">Tools<!-- --> (<!-- -->1<!-- -->)</a></h5><h5><a href="/categories/web management" title="Web Management">Web Management<!-- --> (<!-- -->5<!-- -->)</a></h5><h5><a href="/categories/web-development" title="Web-Development">Web-Development<!-- --> (<!-- -->37<!-- -->)</a></h5></nav></div></div><div class="widget panel panel-default"><div class="panel-heading"><h4>TAGS</h4></div><div class="panel-body"><nav><h5><a href="/tags/.net" title=".NET">.NET<!-- --> (<!-- -->2<!-- -->)</a></h5><h5><a href="/tags/algorithm" title="Algorithm">Algorithm<!-- --> (<!-- -->1<!-- -->)</a></h5><h5><a href="/tags/angularjs" title="AngularJS">AngularJS<!-- --> (<!-- -->4<!-- -->)</a></h5><h5><a href="/tags/css" title="CSS">CSS<!-- --> (<!-- -->7<!-- -->)</a></h5><h5><a href="/tags/html" title="HTML">HTML<!-- --> (<!-- -->4<!-- -->)</a></h5><h5><a href="/tags/interview" title="Interview">Interview<!-- --> (<!-- -->8<!-- -->)</a></h5><h5><a href="/tags/javascript" title="JavaScript">JavaScript<!-- --> (<!-- -->27<!-- -->)</a></h5><h5><a href="/tags/mobile" title="Mobile">Mobile<!-- --> (<!-- -->1<!-- -->)</a></h5><h5><a href="/tags/node.js" title="Node.JS">Node.JS<!-- --> (<!-- -->8<!-- -->)</a></h5><h5><a href="/tags/react" title="React">React<!-- --> (<!-- -->1<!-- -->)</a></h5><h5><a href="/tags/tools" title="Tools">Tools<!-- --> (<!-- -->1<!-- -->)</a></h5></nav></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Introduction fetch API - the new AJAX","description":"The Fetch API provides an interface for fetching resources (e.g., across the network.) It will seem familiar to anyone who has used XMLHttpRequest, but the new API provides a more powerful and flexible feature set.","date":"2015-06-07T16:08:56.339Z","lastmod":"2015-06-07T16:12:00.602Z","slug":"introduction-fetch-api-the-new-ajax","categories":["Web-Development","Development"],"tags":["JavaScript"],"thumbnail":"https://2.bp.blogspot.com/-k0RYC7NXty4/WhDKfhg_TnI/AAAAAAAAD20/4PH54d0axJEQkfOHzsnKaFAnjvpOVFMrwCLcBGAs/s400/1433693516339_zpsor3v2pza.png","image":"https://2.bp.blogspot.com/-k0RYC7NXty4/WhDKfhg_TnI/AAAAAAAAD20/4PH54d0axJEQkfOHzsnKaFAnjvpOVFMrwCLcBGAs/s1600/1433693516339_zpsor3v2pza.png","source":"","content":"\n\nFetch provides a generic definition of [Request](https://developer.mozilla.org/en-US/docs/Web/API/Request) and [Response](https://developer.mozilla.org/en-US/docs/Web/API/Response) objects. This will allow them to be used whether it’s for service workers, Cache API and other similar things that handle or modify requests and responses, or any kind of use case that might require you to generate your own responses programmatically. It also provides a definition for related concepts such as CORS and the HTTP origin header semantics, supplanting their separate definitions elsewhere. \n\nfetch() allows you to make network requests similar to XMLHttpRequest (XHR). The main difference is that the Fetch API uses Promises, which enables a simpler and cleaner API, avoiding callback hell and having to remember the complex API of XMLHttpRequest.\n\n## Basic Fetch Request\n\nA fetch function is now provided in the global window scope, with the first argument being the URL:\n\n    // url (required), options (optional)\n    fetch('/some/url').then(function(response) {\n    \t// todo\n    }).catch(function(err) {\n    \t// Error :(\n    });\n\n## Handling JSON\n\nLet's say your service gets JSON as response, the resulting callback data has a `json` method for converting the raw data to a JavaScript object:\n\n    fetch('/some/url/json')\n    .then(function(response) { \n    \t// Convert to JSON\n    \treturn response.json();\n    }).then(function(j) {\n    \t// a JavaScript object\n    \tconsole.log(j); \n    });\n\n## Handling Basic Text Responses\n\nLet's say your service gets HTML template as response, so here's how you can work with an HTML or text response:\n\n    fetch('/some/url')\n    .then(function(response) { \n    \t// Convert to text\n    \treturn response.text();\n    }).then(function(txt) {\n    \t// String\n    \tconsole.log(txt); \n    });\n\nYou can get the response text via chaining the Promise's `then` method along with the `text()` method(`response.text()` returns Promise object).\n\n## Headers and Metadata\n\nResponse headers and metadata are available on the response object via straight properties and a get method for headers are illustrated below:\n\n    fetch('/some/url')\n    .then(function(response) {  \n        console.log(response.headers.get('Content-Type'));  \n        console.log(response.headers.get('Date'));\n\n        console.log(response.status);  \n        console.log(response.statusText);  \n        console.log(response.type);  \n        console.log(response.url);  \n    });\n\nYou can also set headers in your initial request but you cannot set cookies:\n\n    // url (required), options (optional)\n    fetch('/some/url', {\n    \theaders: {\n    \t\t'Accept': 'application/json',\n        \t'Content-Type': 'application/json'\n    \t}\n    });\n\n## POST Form Data\n\nAnother common use case for AJAX is sending form data. To do this we can set the method and `body` parameters in the `fetch()` options.\n\n    fetch('/some/url', {  \n      method: 'post',  \n      headers: {  \n        \"Content-type\": \"application/x-www-form-urlencoded\"  \n      },  \n      body: 'a=1\u0026b=2'\n    })\n    .then(function(res){\n      return res.json();\n    })\n    .then(function (data) {  \n      console.log('Request succeeded with JSON response', data);  \n    })\n    .catch(function (error) {  \n      console.log('Request failed', error);  \n    });\n\n## Sending Credentials with a Fetch Request\n\nShould you want to make a fetch request with credentials such as cookies, you should set the credentials of the request to “`include`”.\n\n    fetch('/some/url', {  \n      credentials: 'include'  \n    })\n\nMore about [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)","permalink":"/post/introduction-fetch-api-the-new-ajax","site":{"categories":[{"name":"Algorithm","count":1},{"name":"Design","count":10},{"name":"Development","count":38},{"name":"Interview","count":4},{"name":"Mobile-Development","count":1},{"name":"Resources","count":15},{"name":"System Design","count":2},{"name":"System-Design","count":2},{"name":"Tools","count":1},{"name":"Web Management","count":5},{"name":"Web-Development","count":37}],"tags":[{"name":".NET","count":2},{"name":"Algorithm","count":1},{"name":"AngularJS","count":4},{"name":"CSS","count":7},{"name":"HTML","count":4},{"name":"Interview","count":8},{"name":"JavaScript","count":27},{"name":"Mobile","count":1},{"name":"Node.JS","count":8},{"name":"React","count":1},{"name":"Tools","count":1}]}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"introduction-fetch-api-the-new-ajax"},"buildId":"N1nbPrBxxylIC17PDK7CV","isFallback":false,"gsp":true,"scriptLoader":[]}</script><footer><div class="container"><div class="text-center social"><a href="mailto:hello@websnippet.io" title="email" rel="nofollow"><i class="fa fa-envelope" aria-hidden="true"></i><span class="sr-only">email</span></a><a href="https://www.facebook.com/websnippet.io" title="facebook" rel="nofollow" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i><span class="sr-only">facebook</span></a><a href="https://twitter.com/WebSnippetio" title="twitter" rel="nofollow" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i><span class="sr-only">twitter</span></a><a href="https://plus.google.com/109007174257357268166" title="google+" rel="nofollow" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i><span class="sr-only">google+</span></a><a href="http://feeds2.feedburner.com/WebSnippet" title="rss" target="_blank"><i class="fa fa-rss" aria-hidden="true"></i><span class="sr-only">rss</span></a></div></div></footer></body></html>